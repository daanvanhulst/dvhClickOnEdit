var ClickToEdit;!function(t){var i=function(){function t(i,e){var o=this;this.scope={clickToEditConfig:"=?",fieldType:"@?",model:"=?",onSave:"&?"},this._$compile=e,this._editableDirectiveFactory=i,t.prototype.link={pre:function(t,i,e){angular.isUndefined(t.clickToEditConfig)&&(t.clickToEditConfig={model:{value:""},fieldType:"text",onSave:null}),angular.isDefined(t.model)&&angular.isDefined(t.model.value)&&(t.clickToEditConfig.model=t.model),angular.isDefined(t.fieldType)&&(t.clickToEditConfig.fieldType=t.fieldType),angular.isDefined(t.onSave)&&(t.clickToEditConfig.onSave=t.onSave),t.originalValue=t.clickToEditConfig.model.value,t.editMode=!1},post:function(t,n,d){t.saveModel=function(i){if(t.errorMessage="",angular.isFunction(t.clickToEditConfig.onSave)){var e=t.clickToEditConfig.onSave({model:i});if(!e)return void t.setUpdatedModel(i);t.resolvingData=!0,e.then(function(){t.setUpdatedModel(i)},function(i){t.errorMessage=i?i:"error in application when saving"})["finally"](function(){t.resolvingData=!1})}},t.discardValue=function(){t.errorMessage="",t.clickToEditConfig.model.value=t.originalValue,t.model.value=t.originalValue,t.editMode=!1};var r=i.createEditableDirective(t.clickToEditConfig.fieldType),c=e(r)(t);n.replaceWith(c),t.setUpdatedModel=function(i){t.originalValue=i.value,t.clickToEditConfig.model=i,t.model=i,t.editMode=!1},t.$on("$destroy",o.destruct),o._scope=t}}}return t.Factory=function(){var i=function(i,e){return new t(i,e)};return i.$inject=["editableDirectiveFactory","$compile"],i},t.prototype.destruct=function(){this._$compile=null,this._editableDirectiveFactory=null,this._scope=null},t}();t.ClickToEditElement=i,angular.module("dvhClickToEdit",["dvhClickToEdit.editableDirectiveFactory","dvhClickToEdit.dvhTextEdit","dvhClickToEdit.dvhTextAreaEdit","dvhClickToEdit.dvhRichTextAreaEdit"]).directive("dvhClickToEdit",i.Factory())}(ClickToEdit||(ClickToEdit={}));var ClickToEdit;!function(t){var i=function(){function t(){var i=this;this.scope=!1,this.templateUrl="dvhClickToEdit/dvhTextAreaEdit/dvhTextAreaEdit.html",t.prototype.link=function(t,e,o){t.$on("$destroy",i.destruct)}}return t.Factory=function(){var i=function(){return new t};return i.$inject=[],i},t.prototype.destruct=function(){console.log("destroying")},t}();t.TextAreaEdit=i,angular.module("dvhClickToEdit.dvhTextAreaEdit",["textAngular"]).directive("dvhTextAreaEdit",i.Factory())}(ClickToEdit||(ClickToEdit={}));var ClickToEdit;!function(t){var i=function(){function t(){var i=this;this.scope=!1,this.templateUrl="dvhClickToEdit/dvhRichTextAreaEdit/dvhRichTextAreaEdit.html",t.prototype.link=function(t,e,o){t.$on("$destroy",i.destruct)}}return t.Factory=function(){var i=function(){return new t};return i.$inject=[],i},t.prototype.destruct=function(){console.log("destroying")},t}();t.RichTextAreaEdit=i,angular.module("dvhClickToEdit.dvhRichTextAreaEdit",["textAngular"]).directive("dvhRichTextAreaEdit",i.Factory())}(ClickToEdit||(ClickToEdit={}));var ClickToEdit;!function(t){var i=function(){function t(){var i=this;this.templateUrl="dvhClickToEdit/dvhTextEdit/dvhTextEdit.html",t.prototype.link=function(t,e,o){t.$on("$destroy",i.destruct)}}return t.Factory=function(){var i=function(){return new t};return i.$inject=[],i},t.prototype.destruct=function(){console.log("destroying")},t}();t.TextEdit=i,angular.module("dvhClickToEdit.dvhTextEdit",[]).directive("dvhTextEdit",i.Factory())}(ClickToEdit||(ClickToEdit={}));var ClickToEditFactories;!function(t){var i=function(){function t(){}return t.prototype.createEditableDirective=function(t){var i="";switch(t){case"textArea":i="<span dvh-text-area-edit></span>";break;case"richTextArea":i="<span dvh-rich-text-area-edit></span>";break;case"text":default:i="<span dvh-text-edit></span>"}return i},t}();angular.module("dvhClickToEdit.editableDirectiveFactory",[]).factory("editableDirectiveFactory",function(){return new i})}(ClickToEditFactories||(ClickToEditFactories={}));
//# sourceMappingURL=dvhClickToEdit.min.js.map