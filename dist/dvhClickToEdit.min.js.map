{"version":3,"sources":["dvhClickToEdit.ts","dvhClickToEdit.js","dvhTextAreaEdit/dvhTextAreaEdit.ts","dvhTextEdit/dvhTextEdit.ts","editableDirectiveFactory/editableDirectiveFactory.ts"],"names":["ClickToEdit","ClickToEdit.Element","ClickToEdit.Element.constructor","scope","editMode","angular","isFunction","dvhConfig","onSave","value","ClickToEdit.Element.Factory","ClickToEdit.Element.destruct","ClickToEdit.TextAreaEdit","ClickToEdit.TextAreaEdit.constructor","ClickToEdit.TextAreaEdit.Factory","ClickToEdit.TextAreaEdit.destruct","ClickToEdit.TextEdit","ClickToEdit.TextEdit.constructor","ClickToEdit.TextEdit.Factory","ClickToEdit.TextEdit.destruct","ClickToEditFactories","ClickToEditFactories.EditableDirectiveFactory","ClickToEditFactories.EditableDirectiveFactory.createEditableDirective"],"mappings":"AAMA,GAAOA,cAAP,SAAOA,GAeHA,GAAaA,GAAOA,WAUhBC,QAVSA,GAUGA,EAA0BA,EAAUA,GAVpDC,GAAAA,GAAAA,IAGWA,MAAAA,SAAUA,EACVA,KAAAA,OACHA,UAAWA,KAMXA,EAAQA,UAAUA,KAAOA,SAAEA,EAA0BA,EAA8BA,GAE/EA,EAAMA,MAAQA,EAAKA,YAAYA,EAAMA,UAAUA,OAC3DA,EAAMA,UAAWA,EAELA,EAAMA,UAAYA,SAASA,GACvBC,EAAMC,UAAW,EAEbC,QAAQC,WAAWH,EAAMI,UAAUC,SACnCL,EAAMI,UAAUC,OAAOL,EAAMM,OAEjCN,EAAMI,UAAUE,MAAQA,EChB5B,IDoBIP,GAAkBA,EAAyBA,wBAAwBA,EAAMA,UAAUA,WAGnFA,EAAIA,EAASA,GAAiBA,EAGlCA,GAAQA,YAAYA,GAEpBA,EAAMA,IAAIA,WAAYA,EAAKA,WAkBvCD,MAdkBA,GAAAA,QAAdA,WACIS,GAAIA,GAAYA,SAACA,EAA0BA,EAAUA,GACjDA,MAAOA,IAAIA,GAAQA,EAA0BA,EAAUA,GAK3DA,OAFAA,GAAUA,SAAcA,2BAA4BA,WAAYA,QAEzDA,GAGHT,EAAAA,UAAAA,SAARA,WACIU,QAAQA,IAAIA,eAGpBV,IApDaD,GAAAA,QAAAA,EAsDbA,QAAQA,OAAOA,kBACXA,0CACAA,6BACAA,mCAEHA,UAAUA,iBAAkBA,EAAQA,YA1ElCA,cAAAA,gBECP,IAAOA,cAAP,SAAOA,GAEHA,GAAaA,GAAYA,WAQrBY,QARSA,KAAbC,GAAAA,GAAAA,IAGWA,MAAAA,OAAQA,EACRA,KAAAA,YAAcA,sDAKjBA,EAAaA,UAAUA,KAAOA,SAACA,EAA0BA,EAA8BA,GACnFA,QAAQA,IAAIA,GACZA,EAAMA,IAAIA,WAAYA,EAAKA,WAkBvCD,MAdkBA,GAAAA,QAAdA,WACIE,GAAIA,GAAYA,WACZA,MAAOA,IAAIA,GAKfA,OAFAA,GAAUA,WAEHA,GAGHF,EAAAA,UAAAA,SAARA,WACIG,QAAQA,IAAIA,eAGpBH,IA7BaZ,GAAAA,aAAAA,EA+BbA,QAAQA,OAAOA,kCAAmCA,gBAC7CA,UAAUA,kBAAmBA,EAAaA,YAlC5CA,cAAAA,gBCAP,IAAOA,cAAP,SAAOA,GAEHA,GAAaA,GAAQA,WASjBgB,QATSA,KAAbC,GAAAA,GAAAA,IAGWA,MAAAA,OAAQA,EACRA,KAAAA,SAAUA,EACVA,KAAAA,YAAcA,8CAKjBA,EAASA,UAAUA,KAAOA,SAACA,EAA0BA,EAA8BA,GAC/EA,QAAQA,IAAIA,GACZA,EAAMA,IAAIA,WAAYA,EAAKA,WAkBvCD,MAdkBA,GAAAA,QAAdA,WACIE,GAAIA,GAAYA,WACZA,MAAOA,IAAIA,GAKfA,OAFAA,GAAUA,WAEHA,GAGHF,EAAAA,UAAAA,SAARA,WACIG,QAAQA,IAAIA,eAGpBH,IA9BahB,GAAAA,SAAAA,EAgCbA,QAAQA,OAAOA,iCACVA,UAAUA,cAAeA,EAASA,YAnCpCA,cAAAA,gBCLP,IAAOoB,uBAAP,SAAOA,GACHA,GAAMA,GAAwBA,WAA9BC,QAAMA,MAgBNA,MAdWA,GAAAA,UAAAA,wBAAPA,SAA+BA,GAC3BC,GAAIA,GAAUA,EACdA,QAAQA,GACJA,IAAKA,WACDA,EAAUA,kCACVA,MACJA,KAAKA,OACLA,QACIA,EAAUA,8BAIlBA,MAAOA,IAEfD,IAEAD,SAAQA,OAAOA,8CAA+CA,QAAQA,2BAA4BA,WAC9FA,MAAOA,IAAIA,MApBZA,uBAAAA","file":"dvhClickToEdit.min.js","sourcesContent":["/// <reference path=\"../typings/tsd.d.ts\" />\r\n\r\n/**\r\n * @ngdoc overview\r\n * @name ClickToEdit\r\n */\r\nmodule ClickToEdit {\r\n\r\n    interface IDvhConfig {\r\n        fieldType: string;\r\n        value: string;\r\n        onSave: ( value ) => void;\r\n    }\r\n\r\n    export interface IClickToEditScope extends ng.IScope {\r\n        dvhConfig: IDvhConfig;\r\n        value;\r\n\t\teditMode: boolean;\r\n        saveValue: Function;\r\n    }\r\n\r\n    export class Element {\r\n        // #region Angular directive properties, fields, and methods\r\n        public link: ( scope: IClickToEditScope, element: ng.IAugmentedJQuery, attrs: ng.IAttributes ) => void;\r\n        public replace = false;\r\n        public scope = {\r\n            dvhConfig: \"=\"\r\n        };\r\n        // #endregion\r\n\r\n        // #region Initialization and destruction\r\n        constructor(editableDirectiveFactory, $compile, $sce) {\r\n            Element.prototype.link = ( scope: IClickToEditScope, element: ng.IAugmentedJQuery, attrs: ng.IAttributes ) => {\r\n\r\n                scope.value = $sce.trustAsHtml(scope.dvhConfig.value);\r\n\t\t\t\tscope.editMode = false;\r\n\r\n                scope.saveValue = function(value) {\r\n                    scope.editMode = false;\r\n\r\n                    if (angular.isFunction(scope.dvhConfig.onSave)) {\r\n                        scope.dvhConfig.onSave(scope.value);\r\n                    }\r\n                    scope.dvhConfig.value = value;\r\n                };\r\n\r\n                // Create the editable element\r\n                var editableElement = editableDirectiveFactory.createEditableDirective(scope.dvhConfig.fieldType);\r\n\r\n                //Compile the editable element\r\n                var e = $compile(editableElement)(scope);\r\n\r\n                //Replace the current element with the editable element\r\n                element.replaceWith(e);\r\n\r\n                scope.$on(\"$destroy\", this.destruct);\r\n            };\r\n        }\r\n\r\n        public static Factory() {\r\n            var directive = (editableDirectiveFactory, $compile, $sce) => {\r\n                return new Element(editableDirectiveFactory, $compile, $sce);\r\n            };\r\n\r\n            directive[\"$inject\"] = [\"editableDirectiveFactory\", \"$compile\", \"$sce\"];\r\n\r\n            return directive;\r\n        }\r\n\r\n        private destruct() {\r\n            console.log(\"destroying\");\r\n        }\r\n        // #endregion\r\n    }\r\n\r\n    angular.module(\"dvhClickToEdit\", [\r\n        \"dvhClickToEdit.editableDirectiveFactory\",\r\n        \"dvhClickToEdit.dvhTextEdit\",\r\n        \"dvhClickToEdit.dvhTextAreaEdit\"\r\n    ])\r\n    .directive(\"dvhClickToEdit\", Element.Factory());\r\n}\r\n","/// <reference path=\"../typings/tsd.d.ts\" />\n/**\n * @ngdoc overview\n * @name ClickToEdit\n */\nvar ClickToEdit;\n(function (ClickToEdit) {\n    var Element = (function () {\n        // #endregion\n        // #region Initialization and destruction\n        function Element(editableDirectiveFactory, $compile, $sce) {\n            var _this = this;\n            this.replace = false;\n            this.scope = {\n                dvhConfig: \"=\"\n            };\n            Element.prototype.link = function (scope, element, attrs) {\n                scope.value = $sce.trustAsHtml(scope.dvhConfig.value);\n                scope.editMode = false;\n                scope.saveValue = function (value) {\n                    scope.editMode = false;\n                    if (angular.isFunction(scope.dvhConfig.onSave)) {\n                        scope.dvhConfig.onSave(scope.value);\n                    }\n                    scope.dvhConfig.value = value;\n                };\n                // Create the editable element\n                var editableElement = editableDirectiveFactory.createEditableDirective(scope.dvhConfig.fieldType);\n                //Compile the editable element\n                var e = $compile(editableElement)(scope);\n                //Replace the current element with the editable element\n                element.replaceWith(e);\n                scope.$on(\"$destroy\", _this.destruct);\n            };\n        }\n        Element.Factory = function () {\n            var directive = function (editableDirectiveFactory, $compile, $sce) {\n                return new Element(editableDirectiveFactory, $compile, $sce);\n            };\n            directive[\"$inject\"] = [\"editableDirectiveFactory\", \"$compile\", \"$sce\"];\n            return directive;\n        };\n        Element.prototype.destruct = function () {\n            console.log(\"destroying\");\n        };\n        return Element;\n    })();\n    ClickToEdit.Element = Element;\n    angular.module(\"dvhClickToEdit\", [\n        \"dvhClickToEdit.editableDirectiveFactory\",\n        \"dvhClickToEdit.dvhTextEdit\",\n        \"dvhClickToEdit.dvhTextAreaEdit\"\n    ]).directive(\"dvhClickToEdit\", Element.Factory());\n})(ClickToEdit || (ClickToEdit = {}));\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n/// <reference path=\"../dvhClickToEdit.ts\" />\r\n\r\n/**\r\n * @ngdoc overview\r\n * @name ClickToEdit\r\n */\r\nmodule ClickToEdit {\r\n\r\n    export class TextAreaEdit {\r\n        // #region Angular directive properties, fields, and methods\r\n        public link: (scope: IClickToEditScope, element: ng.IAugmentedJQuery, attrs: ng.IAttributes) => void;\r\n        public scope = false;\r\n        public templateUrl = \"dvhClickToEdit/dvhTextAreaEdit/dvhTextAreaEdit.html\";\r\n        // #endregion\r\n\r\n        // #region Initialization and destruction\r\n        constructor() {\r\n            TextAreaEdit.prototype.link = (scope: IClickToEditScope, element: ng.IAugmentedJQuery, attrs: ng.IAttributes) => {\r\n                console.log(scope);\r\n                scope.$on(\"$destroy\", this.destruct);\r\n            };\r\n        }\r\n\r\n        public static Factory() {\r\n            var directive = () => {\r\n                return new TextAreaEdit();\r\n            };\r\n\r\n            directive[\"$inject\"] = [];\r\n\r\n            return directive;\r\n        }\r\n\r\n        private destruct() {\r\n            console.log(\"destroying\");\r\n        }\r\n        // #endregion\r\n    }\r\n\r\n    angular.module(\"dvhClickToEdit.dvhTextAreaEdit\", [\"textAngular\"])\r\n        .directive(\"dvhTextAreaEdit\", TextAreaEdit.Factory());\r\n}\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n/// <reference path=\"../dvhClickToEdit.ts\" />\r\n\r\n/**\r\n * @ngdoc overview\r\n * @name ClickToEdit\r\n */\r\nmodule ClickToEdit {\r\n\r\n    export class TextEdit {\r\n        // #region Angular directive properties, fields, and methods\r\n        public link: (scope: IClickToEditScope, element: ng.IAugmentedJQuery, attrs: ng.IAttributes) => void;\r\n        public scope = false;\r\n        public replace = true;\r\n        public templateUrl = \"dvhClickToEdit/dvhTextEdit/dvhTextEdit.html\";\r\n        // #endregion\r\n\r\n        // #region Initialization and destruction\r\n        constructor() {\r\n            TextEdit.prototype.link = (scope: IClickToEditScope, element: ng.IAugmentedJQuery, attrs: ng.IAttributes) => {\r\n                console.log(scope);\r\n                scope.$on(\"$destroy\", this.destruct);\r\n            };\r\n        }\r\n\r\n        public static Factory() {\r\n            var directive = () => {\r\n                return new TextEdit();\r\n            };\r\n\r\n            directive[\"$inject\"] = [];\r\n\r\n            return directive;\r\n        }\r\n\r\n        private destruct() {\r\n            console.log(\"destroying\");\r\n        }\r\n        // #endregion\r\n    }\r\n\r\n    angular.module(\"dvhClickToEdit.dvhTextEdit\", [])\r\n        .directive(\"dvhTextEdit\", TextEdit.Factory());\r\n}\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\nmodule ClickToEditFactories {\r\n    class EditableDirectiveFactory {\r\n\r\n        public createEditableDirective(type): String {\r\n            var element = \"\";\r\n            switch (type) {\r\n                case \"textArea\":\r\n                    element = \"<span dvh-text-area-edit></span>\";\r\n                    break;\r\n                case \"text\":\r\n                default:\r\n                    element = \"<span dvh-text-edit></span>\";\r\n                    break;\r\n\r\n            }\r\n            return element;\r\n        }\r\n    }\r\n\r\n    angular.module(\"dvhClickToEdit.editableDirectiveFactory\", []).factory(\"editableDirectiveFactory\", () => {\r\n        return new EditableDirectiveFactory();\r\n    });\r\n}\r\n"],"sourceRoot":"/source/"}