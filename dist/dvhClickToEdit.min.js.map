{"version":3,"sources":["dvhClickToEdit.ts","dvhClickToEdit.js","dvhRichTextAreaEdit/dvhRichTextAreaEdit.ts","dvhTextAreaEdit/dvhTextAreaEdit.ts","dvhTextEdit/dvhTextEdit.ts","editableDirectiveFactory/editableDirectiveFactory.ts"],"names":["ClickToEdit","ClickToEdit.ClickToEditElement","ClickToEdit.ClickToEditElement.constructor","angular","isFunction","scope","isoConfig","onSave","promise","value","setUpdatedValue","then","error","console","log","clickToEditConfig","editMode","ClickToEdit.ClickToEditElement.Factory","ClickToEdit.ClickToEditElement.destruct","ClickToEdit.TextAreaEdit","ClickToEdit.TextAreaEdit.constructor","ClickToEdit.TextAreaEdit.Factory","ClickToEdit.TextAreaEdit.destruct","ClickToEdit.RichTextAreaEdit","ClickToEdit.RichTextAreaEdit.constructor","ClickToEdit.RichTextAreaEdit.Factory","ClickToEdit.RichTextAreaEdit.destruct","ClickToEdit.TextEdit","ClickToEdit.TextEdit.constructor","ClickToEdit.TextEdit.Factory","ClickToEdit.TextEdit.destruct","ClickToEditFactories","ClickToEditFactories.EditableDirectiveFactory","ClickToEditFactories.EditableDirectiveFactory.createEditableDirective"],"mappings":"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","file":"dvhClickToEdit.min.js","sourcesContent":["/// <reference path=\"../typings/tsd.d.ts\" />\r\n\r\n/**\r\n * @ngdoc overview\r\n * @name ClickToEdit\r\n */\r\nmodule ClickToEdit {\r\n\r\n    interface IClickToEditConfig {\r\n        fieldType: string;\r\n        value: string;\r\n        onSave: ( value ) => ng.IPromise<void>;\r\n    }\r\n\r\n    export interface IClickToEditScope extends ng.IScope {\r\n        clickToEditConfig: IClickToEditConfig;\r\n        value;\r\n        fieldType: string;\r\n        onSave: ( value ) => ng.IPromise<void>;\r\n\r\n        isoConfig: IClickToEditConfig;\r\n\t\teditMode: boolean;\r\n        saveValue: ( value ) => void;\r\n\r\n        setUpdatedValue: (value: string) => void;\r\n    }\r\n\r\n    export class ClickToEditElement {\r\n        // #region Angular directive properties, fields, and methods\r\n        public link: {\r\n            pre: ( scope: IClickToEditScope, element: ng.IAugmentedJQuery, attrs: ng.IAttributes, ctrl ) => void;\r\n            post: ( scope: IClickToEditScope, element: ng.IAugmentedJQuery, attrs: ng.IAttributes, ctrl ) => void;\r\n        };\r\n        public scope = {\r\n            clickToEditConfig: \"=?\",\r\n            fieldType: \"@\",\r\n            value: \"@\",\r\n            onSave: \"&\"\r\n        };\r\n        // #endregion\r\n\r\n        // #region Initialization and destruction\r\n        constructor(editableDirectiveFactory, $compile) {\r\n\r\n            ClickToEditElement.prototype.link = {\r\n                pre: ( scope: IClickToEditScope, element: ng.IAugmentedJQuery, attrs: ng.IAttributes, ctrl ) => {\r\n\r\n                    if (angular.isDefined(scope.clickToEditConfig)) {\r\n                        scope.isoConfig = scope.clickToEditConfig;\r\n                    } else {\r\n                        scope.isoConfig = { value: \"\", fieldType: \"text\", onSave: null };\r\n                    }\r\n\r\n                    if ( angular.isDefined(scope.value) )     { scope.isoConfig.value = scope.value; }\r\n                    if ( angular.isDefined(scope.fieldType) ) { scope.isoConfig.fieldType = scope.fieldType; }\r\n                    if ( angular.isDefined(scope.onSave) )    {  scope.isoConfig.onSave = scope.onSave; }\r\n\r\n                    scope.clickToEditConfig = scope.isoConfig;\r\n\r\n                    scope.editMode = false;\r\n                },\r\n                post: ( scope: IClickToEditScope, element: ng.IAugmentedJQuery, attrs: ng.IAttributes, ctrl ) => {\r\n\r\n                    scope.saveValue = function(value) {\r\n\r\n                        if (angular.isFunction(scope.isoConfig.onSave)) {\r\n                            var promise = scope.isoConfig.onSave(value);\r\n\r\n                            if (!promise) {\r\n                                scope.setUpdatedValue(scope.isoConfig.value);\r\n                                return;\r\n                            }\r\n\r\n                            promise.then(\r\n                                function() {\r\n                                    scope.setUpdatedValue(scope.isoConfig.value);\r\n                                },\r\n                                function(error) {\r\n                                    console.log(error);\r\n                                });\r\n                        }\r\n                    };\r\n\r\n                    // Create the editable element\r\n                    var editableElement = editableDirectiveFactory.createEditableDirective(scope.isoConfig.fieldType);\r\n\r\n                    //Compile the editable element\r\n                    var e = $compile(editableElement)(scope);\r\n\r\n                    //Replace the current element with the editable element\r\n                    element.replaceWith(e);\r\n\r\n                    scope.setUpdatedValue = function(value) {\r\n                        scope.clickToEditConfig.value = value;\r\n                        scope.editMode = false;\r\n                    };\r\n\r\n                    scope.$on(\"$destroy\", this.destruct);\r\n                }\r\n            };\r\n        }\r\n\r\n        public static Factory() {\r\n            var directive = (editableDirectiveFactory, $compile) => {\r\n                return new ClickToEditElement(editableDirectiveFactory, $compile);\r\n            };\r\n\r\n            directive[\"$inject\"] = [\"editableDirectiveFactory\", \"$compile\"];\r\n\r\n            return directive;\r\n        }\r\n\r\n        private destruct() {\r\n            console.log(\"destroying\");\r\n        }\r\n        // #endregion\r\n    }\r\n\r\n    angular.module(\"dvhClickToEdit\", [\r\n        \"dvhClickToEdit.editableDirectiveFactory\",\r\n        \"dvhClickToEdit.dvhTextEdit\",\r\n        \"dvhClickToEdit.dvhTextAreaEdit\",\r\n        \"dvhClickToEdit.dvhRichTextAreaEdit\"\r\n    ])\r\n    .directive(\"dvhClickToEdit\", ClickToEditElement.Factory());\r\n}\r\n","/// <reference path=\"../typings/tsd.d.ts\" />\n/**\n * @ngdoc overview\n * @name ClickToEdit\n */\nvar ClickToEdit;\n(function (ClickToEdit) {\n    var ClickToEditElement = (function () {\n        // #endregion\n        // #region Initialization and destruction\n        function ClickToEditElement(editableDirectiveFactory, $compile) {\n            var _this = this;\n            this.scope = {\n                clickToEditConfig: \"=?\",\n                fieldType: \"@\",\n                value: \"@\",\n                onSave: \"&\"\n            };\n            ClickToEditElement.prototype.link = {\n                pre: function (scope, element, attrs, ctrl) {\n                    if (angular.isDefined(scope.clickToEditConfig)) {\n                        scope.isoConfig = scope.clickToEditConfig;\n                    }\n                    else {\n                        scope.isoConfig = { value: \"\", fieldType: \"text\", onSave: null };\n                    }\n                    if (angular.isDefined(scope.value)) {\n                        scope.isoConfig.value = scope.value;\n                    }\n                    if (angular.isDefined(scope.fieldType)) {\n                        scope.isoConfig.fieldType = scope.fieldType;\n                    }\n                    if (angular.isDefined(scope.onSave)) {\n                        scope.isoConfig.onSave = scope.onSave;\n                    }\n                    scope.clickToEditConfig = scope.isoConfig;\n                    scope.editMode = false;\n                },\n                post: function (scope, element, attrs, ctrl) {\n                    scope.saveValue = function (value) {\n                        if (angular.isFunction(scope.isoConfig.onSave)) {\n                            var promise = scope.isoConfig.onSave(value);\n                            if (!promise) {\n                                scope.setUpdatedValue(scope.isoConfig.value);\n                                return;\n                            }\n                            promise.then(function () {\n                                scope.setUpdatedValue(scope.isoConfig.value);\n                            }, function (error) {\n                                console.log(error);\n                            });\n                        }\n                    };\n                    // Create the editable element\n                    var editableElement = editableDirectiveFactory.createEditableDirective(scope.isoConfig.fieldType);\n                    //Compile the editable element\n                    var e = $compile(editableElement)(scope);\n                    //Replace the current element with the editable element\n                    element.replaceWith(e);\n                    scope.setUpdatedValue = function (value) {\n                        scope.clickToEditConfig.value = value;\n                        scope.editMode = false;\n                    };\n                    scope.$on(\"$destroy\", _this.destruct);\n                }\n            };\n        }\n        ClickToEditElement.Factory = function () {\n            var directive = function (editableDirectiveFactory, $compile) {\n                return new ClickToEditElement(editableDirectiveFactory, $compile);\n            };\n            directive[\"$inject\"] = [\"editableDirectiveFactory\", \"$compile\"];\n            return directive;\n        };\n        ClickToEditElement.prototype.destruct = function () {\n            console.log(\"destroying\");\n        };\n        return ClickToEditElement;\n    })();\n    ClickToEdit.ClickToEditElement = ClickToEditElement;\n    angular.module(\"dvhClickToEdit\", [\n        \"dvhClickToEdit.editableDirectiveFactory\",\n        \"dvhClickToEdit.dvhTextEdit\",\n        \"dvhClickToEdit.dvhTextAreaEdit\",\n        \"dvhClickToEdit.dvhRichTextAreaEdit\"\n    ])\n        .directive(\"dvhClickToEdit\", ClickToEditElement.Factory());\n})(ClickToEdit || (ClickToEdit = {}));\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n/// <reference path=\"../dvhClickToEdit.ts\" />\r\n\r\n/**\r\n * @ngdoc overview\r\n * @name ClickToEdit\r\n */\r\nmodule ClickToEdit {\r\n\r\n    export class TextAreaEdit {\r\n        // #region Angular directive properties, fields, and methods\r\n        public link: (scope: IClickToEditScope, element: ng.IAugmentedJQuery, attrs: ng.IAttributes) => void;\r\n        public scope = false;\r\n        public templateUrl = \"dvhClickToEdit/dvhTextAreaEdit/dvhTextAreaEdit.html\";\r\n        // #endregion\r\n\r\n        // #region Initialization and destruction\r\n        constructor() {\r\n            TextAreaEdit.prototype.link = (scope: IClickToEditScope, element: ng.IAugmentedJQuery, attrs: ng.IAttributes) => {\r\n                scope.$on(\"$destroy\", this.destruct);\r\n            };\r\n        }\r\n\r\n        public static Factory() {\r\n            var directive = () => {\r\n                return new TextAreaEdit();\r\n            };\r\n\r\n            directive[\"$inject\"] = [];\r\n\r\n            return directive;\r\n        }\r\n\r\n        private destruct() {\r\n            console.log(\"destroying\");\r\n        }\r\n        // #endregion\r\n    }\r\n\r\n    angular.module(\"dvhClickToEdit.dvhTextAreaEdit\", [\"textAngular\"])\r\n        .directive(\"dvhTextAreaEdit\", TextAreaEdit.Factory());\r\n}\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n/// <reference path=\"../dvhClickToEdit.ts\" />\r\n\r\n/**\r\n * @ngdoc overview\r\n * @name ClickToEdit\r\n */\r\nmodule ClickToEdit {\r\n\r\n    export class RichTextAreaEdit {\r\n        // #region Angular directive properties, fields, and methods\r\n        public link: (scope: IClickToEditScope, element: ng.IAugmentedJQuery, attrs: ng.IAttributes) => void;\r\n        public scope = false;\r\n        public templateUrl = \"dvhClickToEdit/dvhRichTextAreaEdit/dvhRichTextAreaEdit.html\";\r\n        // #endregion\r\n\r\n        // #region Initialization and destruction\r\n        constructor() {\r\n            RichTextAreaEdit.prototype.link = (scope: IClickToEditScope, element: ng.IAugmentedJQuery, attrs: ng.IAttributes) => {\r\n                scope.$on(\"$destroy\", this.destruct);\r\n            };\r\n        }\r\n\r\n        public static Factory() {\r\n            var directive = () => {\r\n                return new RichTextAreaEdit();\r\n            };\r\n\r\n            directive[\"$inject\"] = [];\r\n\r\n            return directive;\r\n        }\r\n\r\n        private destruct() {\r\n            console.log(\"destroying\");\r\n        }\r\n        // #endregion\r\n    }\r\n\r\n    angular.module(\"dvhClickToEdit.dvhRichTextAreaEdit\", [\"textAngular\"])\r\n        .directive(\"dvhRichTextAreaEdit\", RichTextAreaEdit.Factory());\r\n}\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n/// <reference path=\"../dvhClickToEdit.ts\" />\r\n\r\n/**\r\n * @ngdoc overview\r\n * @name ClickToEdit\r\n */\r\nmodule ClickToEdit {\r\n\r\n    export class TextEdit {\r\n        // #region Angular directive properties, fields, and methods\r\n        public link: (scope: IClickToEditScope, element: ng.IAugmentedJQuery, attrs: ng.IAttributes) => void;\r\n        public templateUrl = \"dvhClickToEdit/dvhTextEdit/dvhTextEdit.html\";\r\n        // #endregion\r\n\r\n        // #region Initialization and destruction\r\n        constructor() {\r\n            TextEdit.prototype.link = (scope: IClickToEditScope,\r\n                                       element: ng.IAugmentedJQuery,\r\n                                       attrs: ng.IAttributes) => {\r\n                scope.$on(\"$destroy\", this.destruct);\r\n            };\r\n        }\r\n\r\n        public static Factory() {\r\n            var directive = () => {\r\n                return new TextEdit();\r\n            };\r\n\r\n            directive[\"$inject\"] = [];\r\n\r\n            return directive;\r\n        }\r\n\r\n        private destruct() {\r\n            console.log(\"destroying\");\r\n        }\r\n        // #endregion\r\n    }\r\n\r\n    angular.module(\"dvhClickToEdit.dvhTextEdit\", [])\r\n        .directive(\"dvhTextEdit\", TextEdit.Factory());\r\n}\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\nmodule ClickToEditFactories {\r\n    class EditableDirectiveFactory {\r\n\r\n        public createEditableDirective(type): String {\r\n            var element = \"\";\r\n            switch (type) {\r\n                case \"textArea\":\r\n                    element = \"<span dvh-text-area-edit></span>\";\r\n                    break;\r\n                case \"richTextArea\":\r\n                    element = \"<span dvh-rich-text-area-edit></span>\";\r\n                    break;\r\n                case \"text\":\r\n                default:\r\n                    element = \"<span dvh-text-edit></span>\";\r\n                    break;\r\n\r\n            }\r\n            return element;\r\n        }\r\n    }\r\n\r\n    angular.module(\"dvhClickToEdit.editableDirectiveFactory\", []).factory(\"editableDirectiveFactory\", () => {\r\n        return new EditableDirectiveFactory();\r\n    });\r\n}\r\n"],"sourceRoot":"/source/"}